#!/bin/bash
cd cplof

# autoconf-based tests
runtest autoreconf autoreconf
runtest configure ./configure
# build with -Wall and without
runtest make_Wall make -k CFLAGS="-ansi -Wall -Werror -D_BSD_SOURCE"
make clean
runtest make make -k
make distclean

# makefile-based tests
runtest make_noauto_Wall make -k -f build/Makefile.gcc CFLAGS="-ansi -Wall -Werror -D_BSD_SOURCE"
make -f build/Makefile.gcc clean
runtest make_noauto make -k -f build/Makefile.gcc
make -f build/Makefile.gcc clean

cd ..
